<div class="form-container">
    <h2> Register Selling Car</h2>
    <form [formGroup]="postCarForm" class="car-post-form" (ngSubmit)="onPostCar()">

        <div>
            <div class="form-group image-upload">
                <div class="image-container" (click)="triggerFileInput()">
                    <img #uploadImage class="image-preview"
                        [src]="selectedCar ?  'data:image/jpeg;base64,' + selectedCar.returnedImg  : imagePreview"
                        alt="Click to upload image" />
                    <div class="hover-overlay">
                        <i class="edit-icon">&#9998;</i>
                    </div>
                    <input type="file" id="fileInput" (change)="onFileSelected($event); $event.stopPropagation()"
                        style="display:none;" />
                </div>
            </div>
        </div>
        <div>
            <div class="form-group">
                <select id="brand" formControlName="brand" class="form-control">
                    <option value="" disabled selected>Select a Brand</option>
                    <option *ngFor="let option of listOfBrands" [value]="option">{{ option }}</option>
                </select>
            </div>

            <div class="form-group">
                <input id="name" class="form-control" formControlName="name" placeholder="Name" />
            </div>

            <div class="form-group">
                <select id="type" formControlName="type" class="form-control">
                    <option value="" disabled selected>Select a Type</option>
                    <option *ngFor="let type of listOfType" [value]="type">{{ type }}</option>
                </select>
            </div>

            <div class="form-group">
                <input id="modelYear" formControlName="year" type="date" formControlName="year" class="form-control" />
            </div>

            <div class="form-group">
                <select id="transmission" formControlName="transmission" class="form-control">
                    <option value="" disabled selected>Select a Transmission</option>
                    <option *ngFor="let transmission of listOfTransmission" [value]="transmission">{{ transmission }}
                    </option>
                </select>
            </div>

            <div class="form-group">
                <select id="color" formControlName="color" class="form-control">
                    <option value="" disabled selected>Select a Color</option>
                    <option *ngFor="let color of listOfColor" [value]="color">{{ color }}
                    </option>
                </select>
            </div>

            <div class="form-group">
                <input id="price" type="number" class="form-control" formControlName="price" placeholder="Price" />
            </div>

            <div class="form-group">
                <textarea id="description" formControlName="description" class="form-control" rows="3"
                    placeholder="Enter a description"></textarea>
            </div>

            <div class="high-lvl-loc">
                <div class="form-group location state-loc">
                    <input id="state" formControlName="state" class="form-control" placeholder="State name">
                </div>

                <div class="form-group location city-loc">
                    <input id="city" formControlName="city" class="form-control" placeholder="City name">
                </div>

                <div class="form-group location pincode-loc">
                    <input id="pincode" type="number" formControlName="pincode" class="form-control"
                        placeholder="Pincode">
                </div>

            </div>

            <div class="form-group">
                <textarea id="location" formControlName="location" class="form-control" rows="2"
                    placeholder="Enter a location"></textarea>
            </div>
            <button type="submit" class="submit-button">{{selectedCar ? 'Update Post !': 'Post !'}}</button>
        </div>
    </form>
</div>